{"remainingRequest":"E:\\BookManagementSystem\\VueProject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\BookManagementSystem\\VueProject\\src\\views\\SearchBook.vue?vue&type=style&index=0&id=3a7e71eb&scoped=true&lang=css&","dependencies":[{"path":"E:\\BookManagementSystem\\VueProject\\src\\views\\SearchBook.vue","mtime":1611639847718},{"path":"E:\\BookManagementSystem\\VueProject\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\BookManagementSystem\\VueProject\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\BookManagementSystem\\VueProject\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\BookManagementSystem\\VueProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\BookManagementSystem\\VueProject\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5tLXBhZ2UgewogIG1hcmdpbjogMTBweCBhdXRvOwp9Cg=="},{"version":3,"sources":["SearchBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;AACA","file":"SearchBook.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <el-table\r\n        :data=\"tableData\"\r\n        style=\"width: 100%;\">\r\n      <el-table-column\r\n          label=\"图书号\"\r\n          width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          <i class=\"el-icon-time\"></i>\r\n          <span style=\"margin-left: 10px\">{{ scope.row.id }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"书名\"\r\n          width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover trigger=\"hover\" placement=\"top\">\r\n            <p>书名: {{ scope.row.name }}</p>\r\n            <p>类型: {{ scope.row.type }}</p>\r\n            <p>出版时间: {{ scope.row.time }}</p>\r\n            <div slot=\"reference\" class=\"name-wrapper\">\r\n              <el-tag size=\"medium\">{{ scope.row.name }}</el-tag>\r\n            </div>\r\n          </el-popover>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"出版社\"\r\n          width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <i class=\"el-icon-time\"></i>\r\n          <span style=\"margin-left: 10px\">{{ scope.row.author }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"图书类型\"\r\n          width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <i class=\"el-icon-time\"></i>\r\n          <span style=\"margin-left: 10px\">{{ scope.row.publish }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"价格\"\r\n          width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <i class=\"el-icon-time\"></i>\r\n          <span style=\"margin-left: 10px\">{{ scope.row.price }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n              size=\"mini\"\r\n              @click=\"handleEdit(scope.$index, scope.row)\">编辑\r\n          </el-button>\r\n          <el-button\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\">删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :page-size=\"8\"\r\n        :total=\"total\"\r\n        class=\"m-page\"\r\n        @current-change=\"page\">\r\n    </el-pagination>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport router from \"@/router\";\r\nimport Vue from \"vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      total: null,\r\n      tableData: null\r\n    }\r\n  },\r\n  methods: {\r\n    handleEdit(index, row) {\r\n      console.log(index, row);\r\n\r\n      this.$router.push({\r\n        path: '/update',\r\n        query: {\r\n          id: row.id\r\n        }\r\n      })\r\n\r\n    },\r\n    handleDelete(index, row) {\r\n      const _this = this\r\n      console.log(index, row);\r\n      axios.get('http://localhost:8181/book/delete/'+row.id).then(function (res) {\r\n        _this.$message({\r\n          showClose: true,\r\n          message: '图书删除成功',\r\n          type: 'success'\r\n        });\r\n      })\r\n    },\r\n    page(currentPage){\r\n      const that=this\r\n      axios.get('http://localhost:8181/book/findAll/'+currentPage+'/8').then(function (res) {\r\n        that.total = res.data.totalElements\r\n        that.tableData = res.data.content\r\n        console.log(res)\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    const _this = this\r\n    axios.get('http://localhost:8181/book/findAll/1/8').then(function (res) {\r\n      _this.total = res.data.totalElements\r\n      _this.tableData = res.data.content\r\n      console.log(res)\r\n      console.log(_this.total)\r\n    })\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .m-page {\r\n    margin: 10px auto;\r\n  }\r\n</style>"]}]}
{"remainingRequest":"E:\\BookManagementSystem\\VueProject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\BookManagementSystem\\VueProject\\src\\views\\UpdateBook.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\BookManagementSystem\\VueProject\\src\\views\\UpdateBook.vue","mtime":1611639320564},{"path":"E:\\BookManagementSystem\\VueProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\BookManagementSystem\\VueProject\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\BookManagementSystem\\VueProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\BookManagementSystem\\VueProject\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJBZGRCb29rIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcnVsZUZvcm06IHsNCiAgICAgICAgaWQ6JycsDQogICAgICAgIG5hbWU6ICcnLA0KICAgICAgICBhdXRob3I6ICcnLA0KICAgICAgICBwdWJsaXNoOiAnJywNCiAgICAgICAgdGltZTogJycsDQogICAgICAgIHR5cGU6ICcnLA0KICAgICAgICBwcmljZTogJycNCiAgICAgIH0sDQogICAgICBydWxlczogew0KICAgICAgICBuYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeS5puexjeWQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgIHsgbWluOiAxLCBtYXg6IDI1LCBtZXNzYWdlOiAn5Lmm5ZCN6ZW/5bqm6L+H55+t5oiW6L+H6ZW/JywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgYXV0aG9yOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeS5puexjeS9nOiAhScsIHRyaWdnZXI6ICdjaGFuZ2UnIH0NCiAgICAgICAgXSwNCiAgICAgICAgdGltZTogWw0KICAgICAgICAgIHsgdHlwZTogJ3N0cmluZycsIHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5Zu+5Lmm5Ye654mI5pel5pyfJywgdHJpZ2dlcjogJ2NoYW5nZScgfQ0KICAgICAgICBdLA0KICAgICAgICBwdWJsaXNoIDogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlh7rniYjnpL7kv6Hmga8nLCB0cmlnZ2VyOiAnY2hhbmdlJyB9DQogICAgICAgIF0sDQogICAgICAgIHR5cGU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiBmYWxzZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWbvuS5puexu+WeiycsIHRyaWdnZXI6ICdjaGFuZ2UnIH0NCiAgICAgICAgXSwNCiAgICAgICAgcHJpY2U6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ5Lmm57GN5Lu35qC8JywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXMNCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjgxODEvYm9vay91cGRhdGUnLF90aGlzLnJ1bGVGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsNCiAgICAgICAgICAgIGlmIChyZXMuZGF0YSA9PT0gInN1Y2Nlc3MiKSB7DQogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aBreWWnOS9oO+8jOabtOaWsOWbvuS5puS/oeaBr+aIkOWKnycsDQogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvJykNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOw0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsNCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGNvbnN0IF90aGlzID0gdGhpcw0KICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MTgxL2Jvb2svZmluZEJ5SWQvJytfdGhpcy4kcm91dGUucXVlcnkuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgew0KICAgICAgX3RoaXMucnVsZUZvcm0gPSByZXMuZGF0YQ0KICAgIH0pDQogIH0NCn0NCg=="},{"version":3,"sources":["UpdateBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UpdateBook.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\"  class=\"demo-ruleForm\">\r\n      <el-form-item label=\"图书编号\" prop=\"id\">\r\n        <el-input v-model=\"ruleForm.id\" readonly></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"图书名称\" prop=\"name\">\r\n        <el-input v-model=\"ruleForm.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"作者\" prop=\"author\">\r\n        <el-input v-model=\"ruleForm.author\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"书籍类型\" prop=\"type\">\r\n        <el-input v-model=\"ruleForm.type\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"出版社\" prop=\"publish\">\r\n        <el-input v-model=\"ruleForm.publish\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"出版时间\" required>\r\n        <el-col :span=\"11\">\r\n          <el-form-item prop=\"time\">\r\n            <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"ruleForm.time\"\r\n                            style=\"width: 100%;\"></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"价格\" prop=\"price\">\r\n        <el-input v-model=\"ruleForm.price\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">添加图书</el-button>\r\n        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AddBook\",\r\n  data() {\r\n    return {\r\n      ruleForm: {\r\n        id:'',\r\n        name: '',\r\n        author: '',\r\n        publish: '',\r\n        time: '',\r\n        type: '',\r\n        price: ''\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入书籍名称', trigger: 'blur' },\r\n          { min: 1, max: 25, message: '书名长度过短或过长', trigger: 'blur' }\r\n        ],\r\n        author: [\r\n          { required: true, message: '请输入书籍作者', trigger: 'change' }\r\n        ],\r\n        time: [\r\n          { type: 'string', required: true, message: '请选择图书出版日期', trigger: 'change' }\r\n        ],\r\n        publish : [\r\n          { required: true, message: '请输入出版社信息', trigger: 'change' }\r\n        ],\r\n        type: [\r\n          { required: false, message: '请输入图书类型', trigger: 'change' }\r\n        ],\r\n        price: [\r\n          { required: true, message: '请填写书籍价格', trigger: 'blur' }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      const _this = this\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          axios.post('http://localhost:8181/book/update',_this.ruleForm).then(function (res) {\r\n            if (res.data === \"success\") {\r\n              _this.$message({\r\n                showClose: true,\r\n                message: '恭喜你，更新图书信息成功',\r\n                type: 'success'\r\n              });\r\n            }\r\n            _this.$router.push('/')\r\n          })\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    }\r\n  },\r\n  created() {\r\n    const _this = this\r\n    axios.get('http://localhost:8181/book/findById/'+_this.$route.query.id).then(function (res) {\r\n      _this.ruleForm = res.data\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.demo-ruleForm {\r\n  margin: 15px auto;\r\n  max-width: 60%;\r\n}\r\n</style>"]}]}